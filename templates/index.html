# extends 'base.html'
# block head
<script type="text/javascript">
var timestamp = "{{timestamp}}"
/*
$(document).ready(function(){
  console.debug("Going")
  $('#chat').submit(function(event){
    event.preventDefault()
    data = $(event.target).serialize()
    $.post('/chat',data)
  })
  
  event_period = 1000
  function checkEvents(){
    data = {timestamp:timestamp,stuff:{things:"hey"}}
    $.getJSON('/chat', data, function(response){
      timestamp = response.timestamp
      $.each(response.chats,function(){
        $('#messages').prepend("<p>New Message: "+this.text+"</p>" )        
      })
      console.debug(response)      
      setTimeout(checkEvents, event_period)
    })
  }
  setTimeout(checkEvents, event_period)  
})*/

</script>
# endblock
# block body

<h2>Elemental Chess</h2>
<p>This website allows you to play a minimal version of my original board game Elemental Chess over the internet 
  (rules page coming soon).  You can log in with <a href="http://openid.net/">OpenID</a>, 
  challenge users to a game, or watch the games in progress.  If you spot anything broken, email me at [the domain of this website]@gmail.com</p>

<h2>Users</h2>
# for user in users
<a href="/users/{{user.slug}}">{{user.name}}</a>
# endfor

<h2>Games</h2>
# for game in games
<a style="background-color:#{{game.id|hex_color}}; display:inline-block; margin:.5ex; padding:1ex" href="/games/{{game.id}}">
# for (color,player) in game.players.items()
<span style="color:{{color}}; font-weight:bold; display:block">{{player.name}}</span>
# endfor
</a>
# endfor


# endblock